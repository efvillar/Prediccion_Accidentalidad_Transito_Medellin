---
title: "Untitled"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
summary(cars)
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.

#librerias

```{r}
library(MASS)
library(ISLR)
```


#Datos a utilizar

```{r}
fix(Boston)
names(Boston)
```
#Estimacion del modelo

```{r}
lm.fit=lm(medv???lstat , data=Boston)
attach(Boston)
lm.fit=lm(medv???lstat)
```

#Descriptivas del Modelo
```{r}
lm.fit
summary (lm.fit)
```
#llamar otras variables del
```{r}
names(lm.fit)
```
```{r}
lm.fit$coefficients
```

#Intervalos de los coeficiente
```{r}
confint(lm.fit)
```

#Predecir Informacion
```{r}
predict(lm.fit ,data.frame(lstat=c(5,10 ,15)),interval ="confidence")
```

#Grafica de la estimacion
```{r}
plot(lstat ,medv)
abline (lm.fit ,lwd=3,col ="red")##abline(lm.fit,lwd=3)##abline(lm.fit) ##Linea de tendencia
```


#Graficas

```{r}

plot(lstat ,medv ,col="red")
plot(lstat ,medv ,pch =20)
plot(lstat ,medv ,pch ="+")
plot(1:20,1:20,pch =1:20)
```


#Graficos multiples
```{r}
par(mfrow=c(2,2))
plot(lm.fit)
```

#Residuales y Residuales Estadarizados

```{r}
plot(predict (lm.fit), residuals (lm.fit))
plot(predict (lm.fit), rstudent (lm.fit))
```

```{r}
plot(hatvalues (lm.fit))
which.max(hatvalues (lm.fit))
```

#Modelo Incluyendo la Edad

```{r}
lm.fit=lm(medv???lstat+age ,data=Boston )
summary (lm.fit)
```


#Estimacion del modelo con todas las variables

```{r}
lm.fit=lm(medv???.,data=Boston)
summary (lm.fit)
```

```{r}
library (car)
```
```{r}
lm.fit=lm(medv???lstat)
lm.fit2=lm(medv???lstat+I(lstat^2))
anova(lm.fit ,lm.fit2)
```

```{r}
par(mfrow=c(2,2))
plot(lm.fit2)
```

```{r}
lm.fit5=lm(medv???poly(lstat ,5))
summary (lm.fit5)
```

```{r}
summary (lm(medv???log(rm),data=Boston))
```


```{r}
fix(Carseats )
names(Carseats )
```

```{r}
lm.fit=lm(Sales???.+Income :Advertising +Price:Age ,data=Carseats )
summary (lm.fit)
```

```{r}
attach(Carseats )
contrasts(ShelveLoc )
```

